<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Admin Panel | Nova</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-[#0b0e11] text-white p-6">
    <h1 class="text-2xl font-bold mb-6 text-emerald-500 border-b border-white/10 pb-4">Pending Withdrawals</h1>
    <div id="requests" class="grid gap-4"></div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, onSnapshot } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        const firebaseConfig = {
          apiKey: "AIzaSyCDIizIvd_7nUT6B4sGIc_s-CnZ5hQECCg",
          authDomain: "pay-coins.firebaseapp.com",
          projectId: "pay-coins"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        onSnapshot(collection(db, "withdrawals"), (snapshot) => {
            const container = document.getElementById('requests');
            container.innerHTML = "";
            snapshot.forEach(docSnap => {
                const data = docSnap.data();
                container.innerHTML += `
                    <div class="bg-[#1a1c23] p-5 rounded-2xl border border-white/5 shadow-xl">
                        <div class="flex justify-between items-start mb-2">
                            <p class="text-sm font-bold text-gray-300">${data.email}</p>
                            <span class="text-[10px] bg-emerald-500/10 text-emerald-500 px-2 py-1 rounded">Pending</span>
                        </div>
                        <div class="text-2xl font-mono text-emerald-400 mb-3">${data.amount.toFixed(4)} <span class="text-xs">NOVA</span></div>
                        <p class="text-xs text-blue-400 mb-1 font-bold italic">Platform: ${data.type}</p>
                        <p class="text-[10px] text-gray-500 break-all bg-black/30 p-2 rounded">Address: ${data.address}</p>
                    </div>`;
            });
        });
    </script>
</body>
</html>
